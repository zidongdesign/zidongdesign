{"remainingRequest":"/Users/chenzidongms/zidongdesign.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenzidongms/zidongdesign.github.io/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenzidongms/zidongdesign.github.io/src/components/Header.vue","mtime":1699625836292},{"path":"/Users/chenzidongms/zidongdesign.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1699625724697},{"path":"/Users/chenzidongms/zidongdesign.github.io/node_modules/babel-loader/lib/index.js","mtime":1699625724594},{"path":"/Users/chenzidongms/zidongdesign.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1699625724697},{"path":"/Users/chenzidongms/zidongdesign.github.io/node_modules/vue-loader/lib/index.js","mtime":1699625729381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z3NhcCxQb3dlcjJ9IGZyb20gJ2dzYXAnCmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJwppbXBvcnQge2dldFJhdGlvfSBmcm9tICJAL3V0aWxzL3V0aWxzIjsKaW1wb3J0IHZlcnRleFNoYWRlciBmcm9tICcuLi9nbHNsL3ZlcnRleFNoYWRlci5nbHNsJwppbXBvcnQgZnJhZ21lbnRTaGFkZXIgZnJvbSAnLi4vZ2xzbC93YXZlU2hhZGVyLmdsc2wnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiSGVhZGVyIiwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGNhbWVyYTogbnVsbCwKICAgICAgICAgICAgc2NlbmU6IG51bGwsCiAgICAgICAgICAgIHJlbmRlcmVyOiBudWxsLAogICAgICAgICAgICBjYW52YXM6bnVsbCwKICAgICAgICAgICAgZ2VvbWV0cnk6bnVsbCwKICAgICAgICAgICAgY2xvY2s6bnVsbCwKICAgICAgICAgICAgbWVzaDpudWxsLAogICAgICAgICAgICBwZXJzcGVjdGl2ZSA6IDgwMCwKICAgICAgICAgICAgbG9hZGVyOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLAogICAgICAgICAgICB1X3RpbWU6MCwKCiAgICAgICAgICAgIHNpemVzOiBuZXcgVEhSRUUuVmVjdG9yMigwLDApLAogICAgICAgICAgICBvZmZzZXQ6IG5ldyBUSFJFRS5WZWN0b3IyKDAsMCksCiAgICAgICAgICAgIG1vdXNlOiBuZXcgVEhSRUUuVmVjdG9yMigxMDAwLDApLAoKICAgICAgICAgICAgaXNGb2xkIDogdHJ1ZSwKICAgICAgICAgICAgaXNGcmFtZXNOZWVkVXBkYXRlOiBmYWxzZSwKICAgICAgICAgICAgY3VycmVudEluZGV4OjAsCgogICAgICAgICAgICBpbWFnZXNEYXRhOltdLAogICAgICAgICAgICBwcmVsb2FkSW1hZ2VzOltdLAogICAgICAgICAgICBsYXp5TG9hZEltYWdlczpbXSwKICAgICAgICAgICAgaW1hZ2VzOltdLAogICAgICAgICAgICBpbWFnZXNDb3VudDo0LAoKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5pbWFnZXNDb3VudDtpKyspewogICAgICAgICAgICB0aGlzLmltYWdlc0RhdGEucHVzaChyZXF1aXJlKCcuLi9hc3NldHMvYnJhbmQvaW1nPWltZycrKGkrMSkrJy5wbmcnKSk7CiAgICAgICAgfQogICAgICAgIGZvcihsZXQgaT0wO2k8MztpKyspewogICAgICAgICAgICB0aGlzLnByZWxvYWRJbWFnZXMucHVzaCh0aGlzLmltYWdlc0RhdGFbaV0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wcmVsb2FkKHRoaXMucHJlbG9hZEltYWdlcywoKT0+ewogICAgICAgICAgICBmb3IobGV0IGk9MztpPHRoaXMuaW1hZ2VzQ291bnQ7aSsrKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1hZ2VzW2krM10gPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmxvYWRlci5sb2FkKHRoaXMuaW1hZ2VzRGF0YVtpXSwoKT0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbaV0gPSBpbWFnZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICB9KQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgIH0sCiAgICBwcm9wczpbJ2xhbmd1YWdlJ10sCiAgICBtZXRob2RzOnsKICAgICAgICBpbml0KCl7CiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlci1jYW52YXMnKTsKICAgICAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSh7fSk7CiAgICAgICAgICAgIC8vUmVuZGVyZXIKICAgICAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsKICAgICAgICAgICAgICAgIGFscGhhOiB0cnVlLAogICAgICAgICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLHdpbmRvdy5pbm5lckhlaWdodCk7CiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywyKSk7CiAgICAgICAgICAgIHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTsKICAgICAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDEsIDEsIDE2LCAxNik7CgogICAgICAgICAgICB0aGlzLnNldExpZ2h0cygpOwogICAgICAgICAgICB0aGlzLnNldENhbWVyYSgpOwogICAgICAgICAgICB0aGlzLmZpZ3VyZSgpOwoKICAgICAgICAgICAgdGhpcy5zd2l0Y2hOZXh0SW1nKCk7CiAgICAgICAgICAgIHNldEludGVydmFsKHRoaXMuc3dpdGNoTmV4dEltZyw2NDAwKTsKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsKCk9PnsKICAgICAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBzZXRMaWdodHMoKSB7CiAgICAgICAgICAgIGNvbnN0IGFtYmllbnRsaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDIpCiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGFtYmllbnRsaWdodCkKICAgICAgICB9LAogICAgICAgIHNldENhbWVyYSgpewogICAgICAgICAgICBjb25zdCBmb3YgPSAoMTgwICogKDIgKiBNYXRoLmF0YW4od2luZG93LmlubmVySGVpZ2h0IC8gMiAvIHRoaXMucGVyc3BlY3RpdmUpKSkgLyBNYXRoLlBJOwogICAgICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShmb3YsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwKTsKICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIHRoaXMucGVyc3BlY3RpdmUpOwogICAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7CiAgICAgICAgfSwKICAgICAgICBmaWd1cmUoKXsKICAgICAgICAgICAgdGhpcy5nZXRCb3VuZHMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXRjaEltZycpKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVNZXNoKHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudEluZGV4XSx0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJbmRleCsxXSk7CiAgICAgICAgfSwKICAgICAgICBnZXRCb3VuZHModGFyZ2V0KXsKICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3AgfSA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgICAgICAgIGlmICghdGhpcy5zaXplcy5lcXVhbHMobmV3IFRIUkVFLlZlY3RvcjIod2lkdGgsIGhlaWdodCkpKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNpemVzLnNldCh3aWR0aCwgaGVpZ2h0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghdGhpcy5vZmZzZXQuZXF1YWxzKG5ldyBUSFJFRS5WZWN0b3IyKGxlZnQgLSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyB3aWR0aCAvIDIsIC10b3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMikpKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldC5zZXQobGVmdCAtIHdpbmRvdy5pbm5lcldpZHRoIC8gMiArIHdpZHRoIC8gMiwgLXRvcCArIHdpbmRvdy5pbm5lckhlaWdodCAvIDIgLSBoZWlnaHQgLyAyKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjcmVhdGVNZXNoKGltYWdlLGhvdmVySW1hZ2UpIHsKICAgICAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7CiAgICAgICAgICAgICAgICB1X21hcDogeyB0eXBlOiAndCcsIHZhbHVlOiBpbWFnZSB9LAogICAgICAgICAgICAgICAgdV9ob3Zlcm1hcDp7IHR5cGU6ICd0JywgdmFsdWU6IGhvdmVySW1hZ2V9LAogICAgICAgICAgICAgICAgdV9hbHBoYTp7dmFsdWU6MX0sCiAgICAgICAgICAgICAgICB1X3JhdGlvOnt2YWx1ZTogZ2V0UmF0aW8odGhpcy5zaXplcyxpbWFnZS5pbWFnZSl9LAogICAgICAgICAgICAgICAgdV9ob3ZlcnJhdGlvOnt2YWx1ZTogZ2V0UmF0aW8odGhpcy5zaXplcyxpbWFnZS5pbWFnZSl9LAogICAgICAgICAgICAgICAgdV90aW1lOiB7IHZhbHVlOiB0aGlzLnVfdGltZX0sCiAgICAgICAgICAgICAgICB1X21vdXNlOiB7IHZhbHVlOiB0aGlzLm1vdXNlfSwKICAgICAgICAgICAgICAgIHVfcmVzOiB7IHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMih3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KSB9LAogICAgICAgICAgICAgICAgdV9wcm9ncmVzc0hvdmVyOnt2YWx1ZTowfSwKICAgICAgICAgICAgICAgIHVfcHJvZ3Jlc3NDbGljazp7dmFsdWU6MH0sCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHsKICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB1bmlmb3JtcywKICAgICAgICAgICAgICAgIHZlcnRleFNoYWRlcjogdmVydGV4U2hhZGVyLAogICAgICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGZyYWdtZW50U2hhZGVyLAogICAgICAgICAgICAgICAgZGVmaW5lczogewogICAgICAgICAgICAgICAgICAgIFBSOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpby50b0ZpeGVkKDEpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgbWF0ZXJpYWwpOwogICAgICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24uc2V0KHRoaXMub2Zmc2V0LngsIHRoaXMub2Zmc2V0LnksIDApOwogICAgICAgICAgICB0aGlzLm1lc2guc2NhbGUuc2V0KHRoaXMuc2l6ZXMueCwgdGhpcy5zaXplcy55LCAxKTsKICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5tZXNoKTsKICAgICAgICB9LAogICAgICAgIHN3aXRjaE5leHRJbWcoKXsKICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNob3djYXNlJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSA+IDApewogICAgICAgICAgICAgICAgdGhpcy5pc0ZyYW1lc05lZWRVcGRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsKICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51X2hvdmVybWFwLnZhbHVlID0gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SW5kZXhdOwogICAgICAgICAgICAgICAgZ3NhcC50byh0aGlzLm1lc2gubWF0ZXJpYWwudW5pZm9ybXMudV9wcm9ncmVzc0hvdmVyLHsKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjoxLjYsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6MSwKICAgICAgICAgICAgICAgICAgICBlYXNlOlBvd2VyMi5lYXNlSW5PdXQsCiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTooKT0+ewogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggKz0xOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0wOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51X21hcC52YWx1ZSA9IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudEluZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgZ3NhcC50byh0aGlzLm1lc2gubWF0ZXJpYWwudW5pZm9ybXMudV9wcm9ncmVzc0hvdmVyLHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOjEuNiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOjAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNlOlBvd2VyMi5lYXNlSW5PdXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOigpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRnJhbWVzTmVlZFVwZGF0ZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHVwZGF0ZSgpewogICAgICAgICAgICBpZih0aGlzLmlzRnJhbWVzTmVlZFVwZGF0ZSl7CiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpOwogICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSx0aGlzLmNhbWVyYSk7CiAgICAgICAgICAgICAgICBpZih0aGlzLm1lc2gpewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51X3RpbWUudmFsdWU+MTAwMDApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwudW5pZm9ybXMudV90aW1lLnZhbHVlID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSAwLjAzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBwcmVsb2FkKGltZ3MsIGFsbEltYWdlc0xvYWRlZENhbGxiYWNrKSB7CiAgICAgICAgICAgIGxldCBsb2FkZWRDb3VudGVyID0gMDsKICAgICAgICAgICAgY29uc3QgdG9CZUxvYWRlZE51bWJlciA9IGltZ3MubGVuZ3RoOwogICAgICAgICAgICBjb25zdCBwcmVsb2FkSW1hZ2UgPSAodCwgYW5JbWFnZUxvYWRlZENhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMubG9hZGVyLmxvYWQodCwgYW5JbWFnZUxvYWRlZENhbGxiYWNrKTsKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzLnB1c2goaW1hZ2UpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBpbWdzLmZvckVhY2goKGltZykgPT4gewogICAgICAgICAgICAgICAgcHJlbG9hZEltYWdlKGltZywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxvYWRlZENvdW50ZXIgKz0gMTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdQZXJjZW50ID0gbG9hZGVkQ291bnRlciAvIHRvQmVMb2FkZWROdW1iZXIgKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlTG9hZGluZ1BlcmNlbnQnLHRoaXMubG9hZGluZ1BlcmNlbnQpOwogICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWRDb3VudGVyID09PSB0b0JlTG9hZGVkTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEltYWdlc0xvYWRlZENhbGxiYWNrKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgb25SZXNpemUoKSB7CiAgICAgICAgICAgIHRoaXMuc2V0Q2FtZXJhKCk7CiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpOwogICAgICAgICAgICB0aGlzLmdldEJvdW5kcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpdGNoSW1nJykpOwogICAgICAgICAgICB0aGlzLm1lc2guc2NhbGUuc2V0KHRoaXMuc2l6ZXMueCwgdGhpcy5zaXplcy55LCAxKTsKICAgICAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnNldCh0aGlzLm9mZnNldC54LCB0aGlzLm9mZnNldC55LCAwKTsKICAgICAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzLnZhbHVlLnNldCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsKICAgICAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLnVuaWZvcm1zLnVfcmF0aW8udmFsdWUgPSBnZXRSYXRpbyh0aGlzLnNpemVzLHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudEluZGV4XS5pbWFnZSk7CiAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51X2hvdmVycmF0aW8udmFsdWUgPSBnZXRSYXRpbyh0aGlzLnNpemVzLHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudEluZGV4XS5pbWFnZSk7CiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"header\">\n        <div class=\"switchImg\">\n            <div class=\"circular\">\n                <img :src=\"require('@/assets/brand/intro_zh.svg')\" alt=\"\" v-if=\"language=='ZH'\">\n                <img :src=\"require('@/assets/brand/intro_en.svg')\" alt=\"\" v-else-if=\"language=='EN'\">\n                <!-- <svg viewBox=\"0 0 100 100\">\n                    <path d=\"M 0,50 a 50,50 0 1,1 0,1 z\" id=\"circle\" />\n                    <text>\n                        <textPath xlink:href=\"#circle\" style=\"font-size: 0.69rem\" v-if=\"language=='ZH'\">一 个 结 合 数 字 媒 体 技 术 打 造 品 牌、产 品 和 体 验 的 创 意 设 计 师</textPath>\n                        <textPath xlink:href=\"#circle\" style=\"font-size: 5.6px\" v-else-if=\"language=='EN'\">A CREATIVE DESIGNER WORKING ON BRANDING, PRODUCT AND EXPERIENCE IN DIGITAL WAY</textPath>\n                    </text>\n                </svg> -->\n            </div>\n        </div>\n        <span class=\"headline\" v-if=\"language=='ZH'\">滚动浏览</span>\n        <span class=\"headline\" v-else-if=\"language=='EN'\">Scroll to view</span>\n        <canvas id=\"header-canvas\"></canvas>\n<!--        <h3 v-if=\"language=='ZH'\" class=\"clickToViewWorks interactive-s\" @click=\"toggle\">查看作品</h3>-->\n<!--        <h3 v-else-if=\"language=='EN'\" class=\"clickToViewWorks interactive-s\" @click=\"toggle\">View My Works</h3>-->\n    </div>\n\n</template>\n\n<script>\n    import {gsap,Power2} from 'gsap'\n    import * as THREE from 'three'\n    import {getRatio} from \"@/utils/utils\";\n    import vertexShader from '../glsl/vertexShader.glsl'\n    import fragmentShader from '../glsl/waveShader.glsl'\n\n    export default {\n        name: \"Header\",\n        data(){\n            return{\n                camera: null,\n                scene: null,\n                renderer: null,\n                canvas:null,\n                geometry:null,\n                clock:null,\n                mesh:null,\n                perspective : 800,\n                loader: new THREE.TextureLoader(),\n                u_time:0,\n\n                sizes: new THREE.Vector2(0,0),\n                offset: new THREE.Vector2(0,0),\n                mouse: new THREE.Vector2(1000,0),\n\n                isFold : true,\n                isFramesNeedUpdate: false,\n                currentIndex:0,\n\n                imagesData:[],\n                preloadImages:[],\n                lazyLoadImages:[],\n                images:[],\n                imagesCount:4,\n\n            }\n        },\n        mounted(){\n            for(let i=0;i<this.imagesCount;i++){\n                this.imagesData.push(require('../assets/brand/img=img'+(i+1)+'.png'));\n            }\n            for(let i=0;i<3;i++){\n                this.preloadImages.push(this.imagesData[i]);\n            }\n\n            this.preload(this.preloadImages,()=>{\n                for(let i=3;i<this.imagesCount;i++){\n                    if(this.images[i+3] == null){\n                        const image = this.loader.load(this.imagesData[i],()=> {\n                            this.images[i] = image;\n                        });\n                    }\n                }\n                this.init();\n            })\n        },\n        components: {\n        },\n        props:['language'],\n        methods:{\n            init(){\n                this.canvas = document.getElementById('header-canvas');\n                this.scene = new THREE.Scene({});\n                //Renderer\n                this.renderer = new THREE.WebGLRenderer({\n                    alpha: true,\n                    canvas: this.canvas\n                });\n                this.renderer.setSize(window.innerWidth,window.innerHeight);\n                this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));\n                this.clock = new THREE.Clock();\n                this.geometry = new THREE.PlaneBufferGeometry(1, 1, 16, 16);\n\n                this.setLights();\n                this.setCamera();\n                this.figure();\n\n                this.switchNextImg();\n                setInterval(this.switchNextImg,6400);\n                window.addEventListener('resize',()=>{\n                    this.onResize();\n                });\n            },\n            setLights() {\n                const ambientlight = new THREE.AmbientLight(0xffffff, 2)\n                this.scene.add(ambientlight)\n            },\n            setCamera(){\n                const fov = (180 * (2 * Math.atan(window.innerHeight / 2 / this.perspective))) / Math.PI;\n                this.camera = new THREE.PerspectiveCamera(fov, window.innerWidth / window.innerHeight, 1, 1000);\n                this.camera.position.set(0, 0, this.perspective);\n                this.camera.updateProjectionMatrix();\n            },\n            figure(){\n                this.getBounds(document.querySelector('.switchImg'));\n                this.createMesh(this.images[this.currentIndex],this.images[this.currentIndex+1]);\n            },\n            getBounds(target){\n                const { width, height, left, top } = target.getBoundingClientRect();\n\n                if (!this.sizes.equals(new THREE.Vector2(width, height))) {\n                    this.sizes.set(width, height)\n                }\n                if (!this.offset.equals(new THREE.Vector2(left - window.innerWidth / 2 + width / 2, -top + window.innerHeight / 2 - height / 2))) {\n                    this.offset.set(left - window.innerWidth / 2 + width / 2, -top + window.innerHeight / 2 - height / 2)\n                }\n            },\n            createMesh(image,hoverImage) {\n                const uniforms = {\n                    u_map: { type: 't', value: image },\n                    u_hovermap:{ type: 't', value: hoverImage},\n                    u_alpha:{value:1},\n                    u_ratio:{value: getRatio(this.sizes,image.image)},\n                    u_hoverratio:{value: getRatio(this.sizes,image.image)},\n                    u_time: { value: this.u_time},\n                    u_mouse: { value: this.mouse},\n                    u_res: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n                    u_progressHover:{value:0},\n                    u_progressClick:{value:0},\n                };\n                const material = new THREE.ShaderMaterial({\n                    uniforms: uniforms,\n                    vertexShader: vertexShader,\n                    fragmentShader: fragmentShader,\n                    defines: {\n                        PR: window.devicePixelRatio.toFixed(1)\n                    },\n                });\n                this.mesh = new THREE.Mesh(this.geometry, material);\n                this.mesh.position.set(this.offset.x, this.offset.y, 0);\n                this.mesh.scale.set(this.sizes.x, this.sizes.y, 1);\n                this.scene.add(this.mesh);\n            },\n            switchNextImg(){\n                if(document.querySelector('.showcase').getBoundingClientRect().y > 0){\n                    this.isFramesNeedUpdate = true;\n                    this.update();\n                    this.mesh.material.uniforms.u_hovermap.value = this.images[this.currentIndex];\n                    gsap.to(this.mesh.material.uniforms.u_progressHover,{\n                        duration:1.6,\n                        value:1,\n                        ease:Power2.easeInOut,\n                        onComplete:()=>{\n                            if(this.currentIndex < this.images.length - 1){\n                                this.currentIndex +=1;\n                            }else{\n                                this.currentIndex =0;\n                            }\n                            this.mesh.material.uniforms.u_map.value = this.images[this.currentIndex];\n                            gsap.to(this.mesh.material.uniforms.u_progressHover,{\n                                duration:1.6,\n                                value:0,\n                                ease:Power2.easeInOut,\n                                onComplete:()=>{\n                                    setTimeout(()=>{\n                                        this.isFramesNeedUpdate = false\n                                    },10);\n                                }\n                            })\n                        }\n                    });\n                }\n            },\n            update(){\n                if(this.isFramesNeedUpdate){\n                    requestAnimationFrame(this.update);\n                    this.renderer.render(this.scene,this.camera);\n                    if(this.mesh){\n                        if(this.mesh.material.uniforms.u_time.value>10000){\n                            this.mesh.material.uniforms.u_time.value = 0;\n                        }\n                        this.mesh.material.uniforms.u_time.value += 0.03;\n                    }\n                }\n            },\n            preload(imgs, allImagesLoadedCallback) {\n                let loadedCounter = 0;\n                const toBeLoadedNumber = imgs.length;\n                const preloadImage = (t, anImageLoadedCallback) => {\n                    const image = this.loader.load(t, anImageLoadedCallback);\n                    this.images.push(image);\n                };\n                imgs.forEach((img) => {\n                    preloadImage(img, () => {\n                        loadedCounter += 1;\n                        this.loadingPercent = loadedCounter / toBeLoadedNumber * 100;\n                        this.$emit('updateLoadingPercent',this.loadingPercent);\n                        if (loadedCounter === toBeLoadedNumber) {\n                            allImagesLoadedCallback()\n                        }\n                    })\n                })\n            },\n            onResize() {\n                this.setCamera();\n                this.renderer.setSize(window.innerWidth,window.innerHeight);\n                this.getBounds(document.querySelector('.switchImg'));\n                this.mesh.scale.set(this.sizes.x, this.sizes.y, 1);\n                this.mesh.position.set(this.offset.x, this.offset.y, 0);\n                this.mesh.material.uniforms.u_res.value.set(window.innerWidth, window.innerHeight);\n                this.mesh.material.uniforms.u_ratio.value = getRatio(this.sizes,this.images[this.currentIndex].image);\n                this.mesh.material.uniforms.u_hoverratio.value = getRatio(this.sizes,this.images[this.currentIndex].image);\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .header {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        box-sizing: border-box;\n        z-index: 1;\n        background-color: var(--white);\n        overflow: hidden;\n    }\n\n    .switchImg {\n        position: absolute;\n        width: 60vw;\n        height:60vw;\n        left: 10vw;\n        bottom: 40vw;\n        transform: translate(0%,0%);\n        z-index: 1;\n        pointer-events: none;\n    }\n    .headline {\n        position: absolute;\n        font-size: 1rem;\n        left: 50%;\n        bottom: 2rem;\n        transform: translate(-50%,0%);\n        max-width: 40rem;\n        padding: 1rem;\n        width: 80%;\n        box-sizing: content-box;\n        text-align: center;\n        mix-blend-mode: difference;\n        color: var(--white);\n        pointer-events: none;\n    }\n    #header-canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: -1;\n        pointer-events: none;\n    }\n    @keyframes rotation {\n       0%{\n           transform: rotate(0deg);\n       }\n        100%{\n            transform: rotate(360deg);\n        }\n    }\n    .circular path { fill: none;}\n    .circular {\n        animation: rotation infinite 6.4s reverse;\n        width: 50vw;\n        height: 50vw;\n        /*margin: 3em auto 0;*/\n        position: absolute;\n        right: -25vw;\n        top: -25vw;\n    }\n    .circular svg { display: block; overflow: visible; }\n</style>"]}]}